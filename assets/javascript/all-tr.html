<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>New trivia Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">


</head>
<style>
    body {
    background: url("../images/2557801.jpg");
    
    background-repeat: repeat;
    background-size: cover;
    background-attachment: fixed;
    color: antiquewhite;

}
.container {
    background: url("../images/dark-paths.png");
    width: 427px;
    height: 300px;
    margin: auto;
    margin-top: 30px;
    position: relative;
    
    border-radius: 35px;
    text-align: center;
    

}
.trivia {
    text-align: center;
    color: blue;
    background-color: bisque;
}
#timer-box {
    display: inline;

}
#start-game-button {
    position: absolute;
    top: 100px;
    right:160px;
    border-radius: 10px;
    
}

#submit {
    display: none;
    border-radius: 10px;
}
#result-button {
    display: none;
    border-radius: 10px;
}
#next-question {
    display: none;
    border-radius: 10px;
}</style>

<body>
    <div class="trivia">
        <h2>Trivia Game</h2>
    </div>
    <div class="container">
        <button id="start-game-button">Start the game</button>


        <div id="timer-box"> Time Left: </div><span id="show-number"></span>

        <div id="form">
            <div id="questionBox"></div>

            <button id="submit">Submit</button>
            <div id="result"></div>

        </div>



        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script>

            // variables 
            var interval;
            var currentQuestion = 0;
            var correct = 0;
            var wrong = 0;
            var number = 15;
            $("#timer-box").hide();
            // timer
            // when we start a timer - click this button
            function myCoolTimer() {
                // create a variable to store in a timer function later

                // how many seconds count down till 0
                var number = 15;
                // show it immediately while calling
                $("#show-number").html(number);
                interval = setInterval(decrement, 1000)
                $("#timer-box").show();

                function decrement() {
                    
                    number--;
                    $("#show-number").html(number);
                    if (number < 0) {
                        clearInterval(interval);
                        $("#timer-box").hide();
                        $("#comments").html("Time is up..")
                        // submit button
                        $("#submit").hide()
                        $("#next-question").show()

                    }
                }
            }
            // if user runs out of time

            $("#next-question").on("click", function () {
                currentQuestion++;
                showCurrentQuestion();
                // submit button
                $("#submit").show()

                $("#timer-box").show();
                $("#comments").html("")
                $("#next-question").hide()
                myCoolTimer()
            })

            // start the game
            $("#start-game-button").on("click", function () {

                // submit button
                $("#submit").show()

                myCoolTimer();
                // hide this button after clicking on it
                $("#start-game-button").hide();
                showCurrentQuestion();
            })

            $("#submit").on("click", function () {
                clearInterval(interval);
                currentQuestion++;
                showCurrentQuestion();
                myCoolTimer();
                var value = $("input:checked").val();
                console.log(value);
                // var value = $("input[name=+ currentQuestion + ']:checked").val();
                // console.log(value)
                



            })

            // questions and answers
            var questions = [
                {
                    question: "What is the oldest city in America?",
                    answers: ["Albany, New York", "Saint Augustus, Florida", "Santa Few, New Mexico"],
                    correct: "Saint Augustus, Florida"
                },
                {
                    question: "What was the first capital of the USA?",
                    answers: ["New York", "Philadelphia", "Boston"],
                    correct: "Philadelphia"
                },
                {
                    question: "What place was he first official national park established by President Grant in 1872? ",
                    answers: ["Yosemite", "Sequoia", "Yellowstone"],
                    correct: "Yellowstone"
                },
                {
                    question: "How many American presidents were only children?",
                    answers: ["5", "0", "12"],
                    correct: "0"
                },
                {
                    question: "When did 3 notorious criminals who is still not found escape from Alcatraz prison?",
                    answers: ["1962", "1957", "1975"],
                    correct: "1962"
                },

            ];
            function showCurrentQuestion() {
                console.log(currentQuestion)

                // console.log(correctAnswer)

                if (currentQuestion < questions.length) {
                    $("#questionBox").html("<div>" + questions[currentQuestion].question + "</div>");
                   
                    for (var i = 0; i < questions[currentQuestion].answers.length; i++) {
                        $("#questionBox").append("<input type='radio' name='" + currentQuestion + "' value='" + questions[currentQuestion].answers[i] + "'>" + questions[currentQuestion].answers[i]);


                        // console.log($("input[type='checkbox']").val());
                    };
                }
                if (currentQuestion === questions.length) {

                    clearInterval(interval)
                    $("#timer-box").empty();
                    $("#submit").hide();

                    $("#questionBox").empty();
                    $("#show-number").empty();
                    $("#result").html("Your result: " + correct + " correct answer(s) and " + wrong + " wrong.");

                }





                // var value = $("input:checked").val();
                // console.log(value);
                // var correctAnswer = questions[currentQuestion].correct;
                // if (value === correctAnswer) {
                //     correct++;
                // } else {
                //     wrong++;
                // };


                // if (currentQuestion = questions.length) {
                //     clearInterval(interval)
                //     $("#timer-box").empty();
                //     $("#submit").hide();

                //     $("#questionBox").empty();
                //     $("#show-number").empty();
                //     $("#result").html("Your result: " + correct + " correct answer(s) and " + wrong + " wrong.");

                // }

            }
        </script>

</body>

</html>